<nz-layout style="height: 100%">
  <nz-header style="background: #fff">
    <div class="top-left logo" href="#">
      <span>猫眼新闻</span>
      <i class="anticon anticon-github"></i>
    </div>
    <div class="top-right nav">
      <span>已有账号？</span>
      <a routerLink="/login">立即登录</a>
    </div>
  </nz-header>
  <nz-layout class="wrap">
    <div class="login-container">
      <div class="login-form">
        <div class="title">注册账号</div>
        <form nz-form  [formGroup]="validateForm" (onSubmit)="submitForm()">
          <!--用户名-->
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="5" [nzXs]="5">
              <label for="userName">用户名</label>
            </div>
            <div nz-form-control nz-col [nzSm]="17" [nzXs]="17" nzHasFeedback [nzValidateStatus]="validateForm.controls['userName']">
              <nz-input [nzSize]="'large'" formControlName="userName" [nzId]="'userName'" [nzPlaceHolder]="'请输入用户名'"></nz-input>
              <div nz-form-explain *ngIf="validateForm.get('userName').dirty && validateForm.get('userName').errors || validateForm.get('userName').pending">
                <ng-container *ngIf="validateForm.get('userName').hasError('required')">
                  请输入用户名
                </ng-container>
                <ng-container *ngIf="validateForm.get('userName').hasError('duplicated')">
                  用户名已被占用！
                </ng-container>
                <!--<ng-container *ngIf="validateForm.get('userName').pending">
                  用户名校验中...
                </ng-container>-->
              </div>
            </div>
          </div>
          <!--密码-->
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="5" [nzXs]="5">
              <label for="userPwd">密码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="17" [nzXs]="17" nzHasFeedback [nzValidateStatus]="validateForm.controls['userPwd']">
              <input nz-input [nzSize]="'large'" formControlName="userPwd" placeholder="请输入6-16位由英文或字母组成的密码"  (ngModelChange)="validateConfirmPassword()" type="password">
              <div nz-form-explain *ngIf="validateForm.get('userPwd').dirty&&validateForm.get('userPwd').hasError('required')">
                请输入密码
              </div>
            </div>
          </div>
          <!--确认密码-->
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="5" [nzXs]="5">
              <label for="copyPwd">重复密码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="17" [nzXs]="17" nzHasFeedback [nzValidateStatus]="validateForm.controls['copyPwd']">
              <input nz-input [nzSize]="'large'" formControlName="copyPwd" placeholder="请再次确认密码" type="password">
              <div nz-form-explain *ngIf="validateForm.get('copyPwd').dirty&&validateForm.get('copyPwd').errors">
                <ng-container *ngIf="validateForm.get('copyPwd').hasError('required')">
                  请确认你的密码
                </ng-container>
                <ng-container *ngIf="validateForm.get('copyPwd').hasError('confirm')">
                  两次密码不一致
                </ng-container>
              </div>
            </div>
          </div>
        </form>
          <button nz-button [nzType]="'primary'" class="login-btn" (click)="register()">
          注册
        </button>
        <!--<div class="link reset-password">忘记密码？</div>-->
      </div>
    </div>
  </nz-layout>
</nz-layout>

